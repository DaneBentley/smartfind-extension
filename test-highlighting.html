<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartFind Highlighting Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-title {
            color: #0969da;
            border-bottom: 2px solid #0969da;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        a {
            color: #0969da;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .citation {
            font-size: 0.8em;
            vertical-align: super;
            color: #0969da;
        }
        .reference {
            font-size: 0.9em;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>SmartFind Extension - Highlighting Test Page</h1>
    <p>This page tests various formatting scenarios to ensure SmartFind highlights work correctly with complex content.</p>

    <div class="test-section">
        <h2 class="test-title">1. Basic Text with Links</h2>
        <p>This is a paragraph with a <a href="#">simple link</a> in the middle. The text continues after the link with more content.</p>
        <p>Here's another paragraph with <a href="#">multiple</a> different <a href="#">links</a> scattered throughout the text.</p>
    </div>

    <div class="test-section">
        <h2 class="test-title">2. Formatted Text (Bold, Italic)</h2>
        <p>This paragraph contains <strong>bold text</strong> and <em>italic text</em> mixed together.</p>
        <p>Here we have <strong><em>bold and italic</em></strong> combined formatting.</p>
        <p>Text with <i>old-style italics</i> and <b>old-style bold</b> tags.</p>
    </div>

    <div class="test-section">
        <h2 class="test-title">3. Wikipedia-Style Content</h2>
        <p>In economics, a <a href="#">market</a> is a coordinating mechanism that uses <strong>prices</strong> to convey information among economic entities (such as <a href="#">firms</a>, <a href="#">households</a> and <a href="#">individuals</a>) to regulate production and distribution.<span class="citation">[1]</span></p>
        <p>The concept of <em>market failure</em> describes situations where <a href="#">market mechanisms</a> fail to efficiently allocate resources.<span class="citation">[2]</span></p>
        <div class="reference">[1] Smith, Adam. "The Wealth of Nations"</div>
        <div class="reference">[2] Stiglitz, Joseph. "Economics of the Public Sector"</div>
    </div>

    <div class="test-section">
        <h2 class="test-title">4. Cross-Node Text Scenarios</h2>
        <p>This text spans <strong>across multiple</strong> formatting elements to test cross-node highlighting.</p>
        <p>Here's a sentence that goes from <a href="#">inside a link</a> to outside the link seamlessly.</p>
        <p>Complex case: <em>italic text with <a href="#">a link inside</a> the italic</em> formatting.</p>
    </div>

    <div class="test-section">
        <h2 class="test-title">5. Test Phrases</h2>
        <p><strong>Search for these phrases:</strong></p>
        <ul>
            <li>"coordinating mechanism" (spans across link)</li>
            <li>"market failure" (italic text)</li>
            <li>"multiple formatting" (cross-node)</li>
            <li>"link inside" (nested formatting)</li>
            <li>"economic entities" (regular text)</li>
        </ul>
    </div>

    <div class="test-section">
        <h2 class="test-title">6. Edge Cases</h2>
        <p>Text with <a href="#">punctuation,</a> immediately after links.</p>
        <p>Multiple <strong>consecutive</strong> <em>formatted</em> <a href="#">elements</a> together.</p>
        <p>Text that has <span style="font-style: italic;">inline CSS styling</span> instead of semantic tags.</p>
    </div>

    <script>
        // Add some dynamic content to test
        setTimeout(() => {
            const dynamicSection = document.createElement('div');
            dynamicSection.className = 'test-section';
            dynamicSection.innerHTML = `
                <h2 class="test-title">7. Dynamic Content</h2>
                <p>This content was added dynamically to test <a href="#">dynamic highlighting</a> capabilities.</p>
            `;
            document.body.appendChild(dynamicSection);
        }, 2000);
    </script>
</body>
</html> 